<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
    <script trpr="text/javascript">
        // æºæ•°æ®
        let person = {
            name:'ç« ä¸‰',
            age:22
        }
        // æ¨¡æ‹Ÿå“åº”å¼æ•°æ®vue2
        //#region
        // let p ={}
        // Object.defineProperty(p,'name',{
        //     configurable:true,
        //     get(){//æœ‰äººè¯»å–æ—¶è°ƒç”¨
        //         console.log('æœ‰äººè¯»å–nameå±æ€§');
        //         return person.name
        //     },
        //     set(value){//æœ‰äººä¿®æ”¹æ—¶è°ƒç”¨
        //         console.log('ä¿®æ”¹äº†nameå±æ€§ï¼Œæ›´æ–°ç•Œé¢ï¼');
        //         person.name = value
        //     }
        // })
        // Object.defineProperty(p,'age',{
        //     get(){
        //         return person.age
        //     },
        //     set(value){
        //         console.log('æœ‰äººä¿®æ”¹äº†ageå±æ€§ï¼Œæ›´æ–°ç•Œé¢ï¼');
        //         person.age = value
        //     }
        // })
        //#endregion
//   æ¨¡æ‹Ÿvue3ä¸­å®ç°å“åº”å¼
        // window.Proxy
       /*  const p = new Proxy(person,{
            // ğŸŒˆå³ä½¿ä¸å†™get,set,deletePropertyä¹Ÿå¯ä»¥å¢åˆ æ”¹æŸ¥ï¼Œå†™è¿™äº›æ–¹æ³•æ˜¯ä¸ºäº†æ•è·åˆ°å®ƒçš„ä¿®æ”¹ï¼Œåšå“åº”å¼
            //ğŸ’§è¯»å–çš„æ—¶å€™è°ƒç”¨
            get(target,prop){//targetæºå¯¹è±¡  propå±æ€§å
                console.log(target,`æœ‰äººè¯»å–äº†pèº«ä¸Šçš„å±æ€§--${prop}`)
                //return target[prop]//ğŸ„å†™æ³•1
                return Reflect.get(target,prop)//ğŸ„å†™æ³•2
            },
            // ğŸ’§ä¿®æ”¹æˆ–å¢åŠ å±æ€§çš„æ—¶å€™è°ƒç”¨
            set(target,prop,value){
                console.log(`æœ‰äººä¿®æ”¹äº†pèº«ä¸Šçš„${prop}å±æ€§ï¼Œæ›´æ–°ç•Œé¢ï¼`);
                //ğŸŒ¸ ç›´æ¥ä¿®æ”¹p.nameï¼Œpä¸èµ·ä½œç”¨ï¼Œå¾—ä¿®æ”¹æºæ•°æ®èº«ä¸Šå¯¹åº”çš„propçš„å˜åŒ–æ‰å¯ä»¥
                // target[prop] = value///ğŸ„å†™æ³•1
                Reflect.set(target,prop,value)//ğŸ„å†™æ³•2
            },
            // ğŸ’§åˆ é™¤å±æ€§æ—¶å€™è°ƒç”¨
            deleteProperty(target,prop){
                console.log(`æœ‰äººåˆ é™¤äº†pèº«ä¸Šçš„${prop}å±æ€§,æ›´æ–°ç•Œé¢ï¼`);
                // ğŸŒ¸ç›´æ¥åˆ é™¤pçš„å±æ€§ä¹Ÿä¸èµ·ä½œç”¨ï¼Œå¾—åˆ é™¤æºæ•°æ®èº«ä¸Šå¯¹åº”çš„propæ‰å¯ä»¥
                // å¿…é¡»è¦æœ‰è¿”å›å€¼ æ²¡æœ‰è¿”å›å€¼å°±æ˜¯false
                // return delete target[prop]//ğŸ„å†™æ³•1
                return Reflect.deleteProperty(target,prop)//ğŸ„å†™æ³•2
            }
        }) */
  
        // 
        let obj = {a:1,b:2}
        //ä¸èƒ½é‡å¤å®šä¹‰ä¸€ä¸ªå±æ€§ï¼Œä¼šæŠ¥é”™//Cannot redefine property:at Function.defineProperty
       //ğŸ€å¯¹äºå°è£…æ¡†æ¶æ¥è¯´ï¼Œä¸æ•è·é”™è¯¯ï¼Œåªèƒ½é€šè¿‡try...catchæ¥æ•è·é”™è¯¯ï¼Œä»£ç æ‰èƒ½ç»§ç»­æ‰§è¡Œä¸‹å»
      try{
        Object.defineProperty(obj,'c',{
            get(){
                return 3
            }
        })
        Object.defineProperty(obj,'c',{
            get(){
                return 4
            }
        })
      }catch(error){
        console.log(error);
      }
  
        //ğŸ€ Reflectå¯¹äºå°è£…æ¡†æ¶æ¥è¯´ï¼Œæ–¹ä¾¿æ•è·é”™è¯¯ï¼Œä¸ç”¨å†™try...catch
        const x1 = Reflect.defineProperty(obj,'c',{
            get(){
                return 3
            }
        })
        const x2 = Reflect.defineProperty(obj,'c',{
            get(){
                return 4
            }
        })
        if(x2){
            console.log('æŸæŸæ“ä½œæˆåŠŸ');
        }else{
            console.log('æŸæŸæ“ä½œå¤±è´¥');//ğŸ’¥
        }

        console.log('@@');

  </script>
</body>
</html>