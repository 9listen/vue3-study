<template>
  <!--ğŸŒŸ vue3å¯ä»¥æ²¡æœ‰æ ¹æ ‡ç­¾ -->
  <h1>ä¸€ä¸ªäººçš„ä¿¡æ¯</h1>
  æ€§ï¼š<input type="text" v-model="person.firstName" />
  <br />
  åï¼š<input type="text" v-model="person.lastName" />
  <br />
  <span>å…¨åï¼š{{ person.fullName }}</span>
  <br />
  å…¨åï¼š<input type="text" v-model="person.fullName" />
</template>

<script>
// ç”¨åˆ°å•¥å¼•ç”¨å•¥
import { reactive, computed } from 'vue'
export default {
  name: 'aDemo',
  //   vue2å†™æ³•
  /* computed: {
    fullName () {
      return this.person.firstName + '-' + this.person.lastName
    }
  }, */
  setup () {
    let person = reactive({
      firstName: 'å¼ ',
      lastName: 'ä¸‰',
    })
    // è®¡ç®—å±æ€§-ç®€å†™æ–¹å¼ï¼šæ²¡æœ‰è€ƒè™‘è®¡ç®—å±æ€§è¢«ä¿®æ”¹çš„æƒ…å†µ
    /* person.fullName = computed(() => {
      return person.firstName + '-' + person.lastName
    }) */
    // è®¡ç®—å±æ€§--å®Œæ•´å†™æ³•ï¼šè€ƒè™‘è¯»å’Œå†™
    person.fullName = computed({
      get () {
        return person.firstName + '-' + person.lastName
      },
      set (value) {
        const nameArr = value.split('-')
        person.firstName = nameArr[0]
        person.lastName = nameArr[1]
      }
    })
    return {
      person,
    }
  },


}
</script>

<style>
</style>
