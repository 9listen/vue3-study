<template>
  <!--ğŸŒŸ vue3å¯ä»¥æ²¡æœ‰æ ¹æ ‡ç­¾ -->
  <h2>å½“å‰æ±‚å’Œä¸º{{ sum }}</h2>
  <button @click="sum++">ç‚¹å‡»sum+1</button>
</template>

<script>
// ç”¨åˆ°å•¥å¼•ç”¨å•¥
import { ref, onBeforeMount, onMounted, onBeforeUpdate, onUpdated, onBeforeUnmount, onUnmounted } from 'vue'
// ç»„åˆAPIå°±æ˜¯ä¸€äº›å‡½æ•°ï¼šref,reactive,watch,computed...
export default {
  name: 'aDemo',
  //vue2å†™æ³•
  watch: {
    // å†™æ³•1
    /* sum (newValue, oldValue) {
      console.log('sumçš„å€¼å˜åŒ–äº†', newValue, oldValue);
    } */
    // å†™æ³•2
    /*   sum: {
        immediate: true,//ä¸Šæ¥å°±ç›‘å¬ä¸€æ¬¡
        deep: true,//æ·±åº¦ç›‘å¬
        handler (newValue, oldValue) {
          console.log('sumçš„å€¼å˜åŒ–äº†', newValue, oldValue);
        }
      } */
  },
  setup () {
    console.log('---setup');
    // æ•°æ®
    let sum = ref(0)
    //ğŸŒ¸é€šè¿‡ç»„åˆAPIçš„å½¢å¼å»ä½¿ç”¨ç”Ÿå‘½å‘¨æœŸé’©å­
    // beforeCreateå’Œcreatedå¯¹åº”setup()
    onBeforeMount(() => {
      console.log('---onBeforeMount');
    })
    onMounted(() => {
      console.log('---onMounted');
    })
    onBeforeUpdate(() => {
      console.log('---onBeforeUpdate');
    })
    onUpdated(() => {
      console.log('---onUpdated');
    })
    onBeforeUnmount(() => {
      console.log('---onBeforeUnmount');
    })
    onUnmounted(() => {
      console.log('---onUnmounted');
    })
    return {
      sum,
    }
  },
  // é€šè¿‡é…ç½®é¡¹çš„å½¢å¼ä½¿ç”¨ç”Ÿå‘½å‘¨æœŸé’©å­
  // #region
  /*  beforeCreate () {
     console.log('---beforeCreated');
   },
   created () {
     console.log('---created');
   },
   beforeMount () {
     console.log('---beforeMount');
   },
   mounted () {
     console.log('---mounted');
   },
   beforeUpdate () {
     console.log('---beforeUpdate');
   },
   updated () {
     console.log('---updated');
   },
   beforeUnmount () {
     console.log('---beforeUnmount');
   },
   unmounted () {
     console.log('---unmounted');
   } */
  //#endregion


}
</script>

<style>
</style>
