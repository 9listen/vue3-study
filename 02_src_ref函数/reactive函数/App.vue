<template>
  <!--ğŸŒŸ vue3å¯ä»¥æ²¡æœ‰æ ¹æ ‡ç­¾ -->
  <h1>ä¸€ä¸ªäººçš„ä¿¡æ¯</h1>
  <h3 v-show="person.name">å§“åï¼š{{ person.name }}</h3>
  <h3>å¹´é¾„ï¼š{{ person.age }}</h3>
  <h3>èŒä¸š:{{ person.job.type }}</h3>
  <h3>è–ªæ°´:{{ person.job.salary }}</h3>
  <h3>c:{{ person.job.a.b.c }}</h3>
  <h3>çˆ±å¥½:{{ person.hobby }}</h3>
  <!-- <h3>{{ num }}</h3> -->
  <button @click="changeInfo">ä¿®æ”¹äººçš„ä¿¡æ¯</button>
  <!-- ç›´æ¥å¯¹å±æ€§è¿›è¡Œä¿®æ”¹ -->
  <h3 v-show="person.sex">æ€§åˆ«ï¼š{{ person.sex }}</h3>
  <button @click="addSex">æ·»åŠ ä¸€ä¸ªsexå±æ€§</button>
  <button @click="deleteName">åˆ é™¤ä¸€ä¸ªnameå±æ€§</button>
</template>

<script>
// ç”¨åˆ°å•¥å¼•ç”¨å•¥
import { reactive } from 'vue'
export default {
  name: 'App',
  // vue3å†™æ³•
  // æ­¤å¤„æµ‹è¯•ä¸€ä¸‹setup,æš‚æ—¶ä¸è€ƒè™‘å“åº”å¼çš„é—®é¢˜
  setup () {
    // æ•°æ®
    // ğŸŒ¼å†™æ³•1 åˆ†å¼€å†™
    /*  let name = ref('ç« ä¸‰')
     let age = ref(18)
     //  let job = ref({
     //    type: 'å‰ç«¯å·¥ç¨‹å¸ˆ',
     //    salary: '8500'
     //  }) 
     let job = reactive({
       type: 'å‰ç«¯å·¥ç¨‹å¸ˆ',
       salary: 8500,
       a: {
         b: {
           c: 666
         }
       }
     })
     let hobby = reactive(['ç æ ‘', 'è‹±è¯­', 'ä¸å¿˜åˆå¿ƒ']) */
    //ğŸŒ¼  å†™æ³•2 å…¨éƒ¨å†™åœ¨å¯¹è±¡é‡Œé¢ï¼Œåªå†™ä¸€å±‚reactive
    let person = reactive({
      name: 'ç« ä¸‰',
      age: 18,
      job: {
        type: 'å‰ç«¯å·¥ç¨‹å¸ˆ',
        salary: 8500,
        a: {
          b: {
            c: 666
          }
        }
      },
      hobby: reactive(['ç æ ‘', 'è‹±è¯­', 'ä¸å¿˜åˆå¿ƒ'])
    })
    //â­ï¸ reactiveå®šä¹‰ä¸€ä¸ªå¯¹è±¡ç±»å‹çš„å“åº”å¼æ•°æ®ï¼ŒåŸºæœ¬ç±»å‹çš„å¾—ç”¨ref
    // let num = reactive(111)

    function changeInfo () {
      //#region
      // name.value = 'æå››'
      // age.value = 48
      // console.log(name, age);

      //â­ï¸ ref
      // job.value.type = 'ä¸­çº§'
      // job.value.salary = '15000'
      // console.log(job.value);

      //â­ï¸reactive
      // job.type = "ä½œå®¶"
      // job.salary = 12111
      // job.a.b.c = 10001
      // console.log(job)
      // hobby[0] = 'çœ‹ä¹¦'
      // num.value = 121
      //#endregion

      // ğŸŒ¾å†™æ³•2å¯¹åº”ä¿®æ”¹
      person.name = 'æå››'
      person.age = 48
      person.job.type = "ä½œå®¶"
      person.job.salary = 12111
      person.job.a.b.c = 10001
      person.hobby[0] = 'çœ‹ä¹¦'
    }
    function addSex () {
      person.sex = 'ç”·'
    }
    function deleteName () {
      delete person.name
    }
    // å†™æ³•1:è¿”å›ä¸€ä¸ªå¯¹è±¡-å¸¸ç”¨
    return {
      // name,
      // age,
      // job,
      // hobby,
      // num,
      // å†™æ³•2
      person,
      changeInfo,
      addSex,
      deleteName,
    }
    // å†™æ³•2 è¿”å›ä¸€ä¸ªæ¸²æŸ“å‡½æ•°-è‡ªå®šä¹‰æ¸²æŸ“å†…å®¹ï¼ˆä¸å¸¸ç”¨ï¼‰
    // return () => h('h1', 'å°šç¡…è°·')
  },






}
</script>

<style>
</style>
